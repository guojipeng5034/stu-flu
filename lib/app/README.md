# App åº”ç”¨å±‚

App å±‚æ˜¯åº”ç”¨ç¨‹åºçš„æœ€é¡¶å±‚ï¼Œè´Ÿè´£åº”ç”¨çš„å¯åŠ¨ã€é…ç½®å’Œå…¨å±€è®¾ç½®ã€‚è¿™ä¸€å±‚å®šä¹‰äº†åº”ç”¨çš„æ•´ä½“ç»“æ„å’Œè¡Œä¸ºã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
lib/app/
â”œâ”€â”€ README.md                              # ğŸ“š æœ¬æ–‡ä»¶
â”œâ”€â”€ index.dart                             # ğŸ”— ç»Ÿä¸€å¯¼å‡º
â”‚
â”œâ”€â”€ bootstrap/                             # ğŸš€ åº”ç”¨å¯åŠ¨
â”‚   â””â”€â”€ app.dart                           # ä¸»åº”ç”¨ç±» (MyApp)
â”‚
â”œâ”€â”€ config/                                # âš™ï¸ åº”ç”¨é…ç½®
â”‚   â”œâ”€â”€ constants.dart                     # åº”ç”¨å¸¸é‡
â”‚   â””â”€â”€ env/                               # ç¯å¢ƒé…ç½®
â”‚       â”œâ”€â”€ env_loader.dart                # ç¯å¢ƒå˜é‡åŠ è½½å™¨
â”‚       â””â”€â”€ index.dart                     # ç¯å¢ƒé…ç½®å¯¼å‡º
â”‚
â””â”€â”€ theme/                                 # ğŸ¨ åº”ç”¨ä¸»é¢˜
    â””â”€â”€ app_theme.dart                     # ä¸»é¢˜é…ç½®
```

## ğŸ¯ è®¾è®¡åŸåˆ™

### âœ… App å±‚åº”è¯¥åŒ…å«çš„å†…å®¹
- **åº”ç”¨å¯åŠ¨é€»è¾‘** - MyApp ç±»å’Œåº”ç”¨åˆå§‹åŒ–
- **å…¨å±€é…ç½®** - åº”ç”¨çº§åˆ«çš„é…ç½®å’Œå¸¸é‡
- **ä¸»é¢˜å®šä¹‰** - åº”ç”¨çš„è§†è§‰ä¸»é¢˜
- **ç¯å¢ƒè®¾ç½®** - ä¸åŒç¯å¢ƒçš„é…ç½®

### âŒ App å±‚ä¸åº”è¯¥åŒ…å«çš„å†…å®¹
- **ä¸šåŠ¡é€»è¾‘** - å…·ä½“çš„ä¸šåŠ¡å¤„ç†é€»è¾‘
- **é¡µé¢ç»„ä»¶** - å…·ä½“çš„é¡µé¢å®ç°
- **æ•°æ®æ¨¡å‹** - ä¸šåŠ¡æ•°æ®æ¨¡å‹
- **API è°ƒç”¨** - å…·ä½“çš„ç½‘ç»œè¯·æ±‚

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### ç»Ÿä¸€å¯¼å…¥
```dart
import 'package:cptop/app/index.dart';

// ä½¿ç”¨åº”ç”¨ç±»
runApp(const MyApp());

// ä½¿ç”¨ä¸»é¢˜
MaterialApp(
  theme: AppTheme.lightTheme,
  darkTheme: AppTheme.darkTheme,
);

// ä½¿ç”¨å¸¸é‡
Text(AppConstants.appName);
```

### åˆ†åˆ«å¯¼å…¥
```dart
// åªå¯¼å…¥åº”ç”¨å¯åŠ¨
import 'package:cptop/app/bootstrap/app.dart';

// åªå¯¼å…¥ä¸»é¢˜
import 'package:cptop/app/theme/app_theme.dart';

// åªå¯¼å…¥é…ç½®
import 'package:cptop/app/config/constants.dart';
```

## ğŸ“š ç»„ä»¶è¯´æ˜

### ğŸš€ åº”ç”¨å¯åŠ¨ (bootstrap/)
- **app.dart** - ä¸»åº”ç”¨ç±» (MyApp)
  - é…ç½®è·¯ç”±
  - è®¾ç½®ä¸»é¢˜
  - é…ç½®æœ¬åœ°åŒ–
  - å¤„ç†åº”ç”¨çº§åˆ«çš„çŠ¶æ€

### âš™ï¸ åº”ç”¨é…ç½® (config/)
- **constants.dart** - åº”ç”¨å¸¸é‡
  - åº”ç”¨åç§°
  - ç‰ˆæœ¬ä¿¡æ¯
  - é»˜è®¤é…ç½®å€¼
- **env/** - ç¯å¢ƒé…ç½®
  - å¼€å‘ç¯å¢ƒé…ç½®
  - ç”Ÿäº§ç¯å¢ƒé…ç½®
  - ç¯å¢ƒå˜é‡åŠ è½½

### ğŸ¨ åº”ç”¨ä¸»é¢˜ (theme/)
- **app_theme.dart** - ä¸»é¢˜é…ç½®
  - äº®è‰²ä¸»é¢˜
  - æš—è‰²ä¸»é¢˜
  - é¢œè‰²å®šä¹‰
  - å­—ä½“é…ç½®

## ğŸ”„ ä¸å…¶ä»–å±‚çš„å…³ç³»

### ä¾èµ–å…³ç³»
```
App å±‚
  â†“
Core å±‚ (åŸºç¡€è®¾æ–½)
  â†“
å…¶ä»–ä¸šåŠ¡å±‚
```

- **App å±‚** ä¾èµ– Core å±‚çš„åŸºç¡€è®¾æ–½
- **App å±‚** ä¸ç›´æ¥ä¾èµ–ä¸šåŠ¡å±‚
- **App å±‚** é€šè¿‡è·¯ç”±é—´æ¥ä½¿ç”¨é¡µé¢å±‚

### èŒè´£è¾¹ç•Œ
| å±‚çº§ | èŒè´£ | ç¤ºä¾‹ |
|------|------|------|
| **App** | åº”ç”¨çº§é…ç½®å’Œå¯åŠ¨ | ä¸»é¢˜ã€è·¯ç”±ã€æœ¬åœ°åŒ–é…ç½® |
| **Core** | åŸºç¡€è®¾æ–½å’ŒæŠ€æœ¯ç»„ä»¶ | ç½‘ç»œã€å­˜å‚¨ã€æ—¥å¿— |
| **Business** | ä¸šåŠ¡é€»è¾‘å’Œæ•°æ® | APIã€æœåŠ¡ã€æ¨¡å‹ |
| **UI** | ç”¨æˆ·ç•Œé¢ | é¡µé¢ã€ç»„ä»¶ã€çŠ¶æ€ç®¡ç† |

## ğŸš€ æ·»åŠ æ–°é…ç½®

### 1. æ·»åŠ æ–°çš„åº”ç”¨å¸¸é‡
```dart
// lib/app/config/constants.dart
class AppConstants {
  static const String appName = 'My App';
  static const String version = '1.0.0';
  static const int timeoutSeconds = 30;
  
  // æ·»åŠ æ–°å¸¸é‡
  static const String newConstant = 'value';
}
```

### 2. æ·»åŠ æ–°çš„ä¸»é¢˜é…ç½®
```dart
// lib/app/theme/app_theme.dart
class AppTheme {
  // æ·»åŠ æ–°çš„é¢œè‰²
  static const Color primaryColor = Colors.blue;
  static const Color accentColor = Colors.orange;
  
  // æ·»åŠ æ–°çš„ä¸»é¢˜
  static ThemeData get customTheme {
    return ThemeData(
      // è‡ªå®šä¹‰ä¸»é¢˜é…ç½®
    );
  }
}
```

### 3. æ·»åŠ æ–°çš„ç¯å¢ƒé…ç½®
```dart
// lib/app/config/env/staging_config.dart
class StagingConfig {
  static const String apiBaseUrl = 'https://staging-api.example.com';
  static const bool debugMode = true;
}
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ä¿æŒç®€æ´** - App å±‚åº”è¯¥ä¿æŒç®€æ´ï¼ŒåªåŒ…å«åº”ç”¨çº§åˆ«çš„é…ç½®
2. **é¿å…ä¸šåŠ¡é€»è¾‘** - ä¸è¦åœ¨ App å±‚æ·»åŠ å…·ä½“çš„ä¸šåŠ¡å¤„ç†é€»è¾‘
3. **é…ç½®é›†ä¸­** - å°†ç›¸å…³çš„é…ç½®é›†ä¸­åœ¨ä¸€èµ·ï¼Œä¾¿äºç®¡ç†
4. **ç¯å¢ƒéš”ç¦»** - ä¸åŒç¯å¢ƒçš„é…ç½®è¦æ˜ç¡®åˆ†ç¦»
5. **ä¸»é¢˜ä¸€è‡´** - ç¡®ä¿ä¸»é¢˜é…ç½®çš„ä¸€è‡´æ€§å’Œå¯ç»´æŠ¤æ€§

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [Core åŸºç¡€è®¾æ–½å±‚ (lib/core/)](../core/README.md)
- [è·¯ç”±é…ç½® (lib/router/)](../router/README.md)
- [é¡¹ç›®æ¶æ„æ–‡æ¡£](../../docs/architecture.md)

## ğŸ‰ é‡æ„è¯´æ˜

### ä¸ºä»€ä¹ˆé‡å‘½å `core` ä¸º `bootstrap`ï¼Ÿ

1. **é¿å…å‘½åå†²çª** - ä¸ `lib/core/` åŒºåˆ†å¼€æ¥
2. **è¯­ä¹‰æ›´æ˜ç¡®** - bootstrap æ˜ç¡®è¡¨ç¤º"åº”ç”¨å¯åŠ¨"
3. **ç¬¦åˆæƒ¯ä¾‹** - è®¸å¤šæ¡†æ¶ä½¿ç”¨ bootstrap è¡¨ç¤ºå¯åŠ¨é€»è¾‘
4. **èŒè´£æ¸…æ™°** - æ˜ç¡®è¡¨è¾¾åº”ç”¨å¯åŠ¨å’Œå¼•å¯¼çš„èŒè´£

### é‡æ„å‰åå¯¹æ¯”

**é‡æ„å‰**:
```
lib/app/core/          # âŒ ä¸ lib/core/ å†²çª
â”œâ”€â”€ app.dart
â””â”€â”€ theme.dart
```

**é‡æ„å**:
```
lib/app/bootstrap/     # âœ… è¯­ä¹‰æ˜ç¡®ï¼Œæ— å†²çª
â””â”€â”€ app.dart

lib/app/theme/         # âœ… ä¸»é¢˜ç‹¬ç«‹ç›®å½•
â””â”€â”€ app_theme.dart
```
