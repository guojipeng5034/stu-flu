# æ‹¦æˆªå™¨å•å…ƒæµ‹è¯•

## ğŸ§ª æµ‹è¯•æ¦‚è¿°

æœ¬ç›®å½•åŒ…å«æ‹¦æˆªå™¨ç³»ç»Ÿçš„å®Œæ•´å•å…ƒæµ‹è¯•ï¼Œç¡®ä¿æ‰€æœ‰åŠŸèƒ½çš„æ­£ç¡®æ€§å’Œç¨³å®šæ€§ã€‚

## ğŸ“‹ æµ‹è¯•æ–‡ä»¶

### interceptor_performance_test.dart
æµ‹è¯•æ€§èƒ½ç›‘æ§å™¨çš„å„é¡¹åŠŸèƒ½ï¼š
- è¯·æ±‚ç»Ÿè®¡è®°å½•
- ç¼“å­˜å‘½ä¸­ç‡è®¡ç®—
- ç½‘ç»œé”™è¯¯å¤„ç†
- å“åº”æ—¶é—´è®°å½•
- æ€§èƒ½å¥åº·è¯„ä¼°
- æ€§èƒ½å»ºè®®ç”Ÿæˆ

### cache_strategy_test.dart
æµ‹è¯•å„ç§ç¼“å­˜ç­–ç•¥çš„è¡Œä¸ºï¼š
- first_cache ç­–ç•¥
- only_cache ç­–ç•¥
- cache_remote ç­–ç•¥
- cache_remote_distinct ç­–ç•¥
- no_cache ç­–ç•¥
- é”™è¯¯å¤„ç†å’Œå›é€€
- ç¼“å­˜é”®ç®¡ç†

## ğŸš€ è¿è¡Œæµ‹è¯•

### è¿è¡Œæ‰€æœ‰æ‹¦æˆªå™¨æµ‹è¯•
```bash
flutter test test/core/network/interceptors/
```

### è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
```bash
# æ€§èƒ½æµ‹è¯•
flutter test test/core/network/interceptors/interceptor_performance_test.dart

# ç¼“å­˜ç­–ç•¥æµ‹è¯•
flutter test test/core/network/interceptors/cache_strategy_test.dart
```

### è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
```bash
flutter test --coverage test/core/network/interceptors/
genhtml coverage/lcov.info -o coverage/html
```

## ğŸ“Š æµ‹è¯•è¦†ç›–

ç›®æ ‡æµ‹è¯•è¦†ç›–ç‡ï¼š**90%+**

### è¦†ç›–çš„åŠŸèƒ½æ¨¡å—
- âœ… æ€§èƒ½ç›‘æ§å’Œç»Ÿè®¡
- âœ… ç¼“å­˜ç­–ç•¥å¤„ç†
- âœ… é”™è¯¯å¤„ç†å’Œå›é€€
- âœ… ç¼“å­˜é”®ç®¡ç†
- âœ… é…ç½®éªŒè¯
- âœ… é›†æˆæµ‹è¯•

### æµ‹è¯•åœºæ™¯
- âœ… æ­£å¸¸æµç¨‹æµ‹è¯•
- âœ… å¼‚å¸¸æƒ…å†µæµ‹è¯•
- âœ… è¾¹ç•Œæ¡ä»¶æµ‹è¯•
- âœ… æ€§èƒ½å‹åŠ›æµ‹è¯•
- âœ… å¹¶å‘å®‰å…¨æµ‹è¯•

## ğŸ”§ æµ‹è¯•å·¥å…·

### Mock å¯¹è±¡
ä½¿ç”¨ `mockito` åŒ…åˆ›å»º Mock å¯¹è±¡è¿›è¡Œéš”ç¦»æµ‹è¯•ã€‚

### æµ‹è¯•æ•°æ®
ä½¿ç”¨é¢„å®šä¹‰çš„æµ‹è¯•æ•°æ®ç¡®ä¿æµ‹è¯•çš„ä¸€è‡´æ€§å’Œå¯é‡å¤æ€§ã€‚

### æ–­è¨€
ä½¿ç”¨ `flutter_test` åŒ…çš„ä¸°å¯Œæ–­è¨€åŠŸèƒ½éªŒè¯æµ‹è¯•ç»“æœã€‚

## ğŸ“ˆ æŒç»­é›†æˆ

è¿™äº›æµ‹è¯•ä¼šåœ¨ä»¥ä¸‹æƒ…å†µè‡ªåŠ¨è¿è¡Œï¼š
- ä»£ç æäº¤æ—¶
- Pull Request åˆ›å»ºæ—¶
- å‘å¸ƒç‰ˆæœ¬æ—¶

## ğŸ› è°ƒè¯•æµ‹è¯•

### è¿è¡Œå•ä¸ªæµ‹è¯•
```bash
flutter test test/core/network/interceptors/interceptor_performance_test.dart --name "åº”è¯¥æ­£ç¡®è®°å½•è¯·æ±‚ç»Ÿè®¡"
```

### è¯¦ç»†è¾“å‡º
```bash
flutter test test/core/network/interceptors/ --verbose
```

### è°ƒè¯•æ¨¡å¼
```bash
flutter test test/core/network/interceptors/ --debug
```

## ğŸ“ ç¼–å†™æ–°æµ‹è¯•

### æµ‹è¯•å‘½åè§„èŒƒ
- æµ‹è¯•æ–‡ä»¶ï¼š`*_test.dart`
- æµ‹è¯•ç»„ï¼š`group('åŠŸèƒ½æ¨¡å— Tests', () { ... })`
- æµ‹è¯•ç”¨ä¾‹ï¼š`test('åº”è¯¥åšä»€ä¹ˆ', () { ... })`

### æµ‹è¯•ç»“æ„
```dart
void main() {
  group('åŠŸèƒ½æ¨¡å— Tests', () {
    setUp(() {
      // æµ‹è¯•å‰å‡†å¤‡
    });

    tearDown(() {
      // æµ‹è¯•åæ¸…ç†
    });

    test('åº”è¯¥æ­£ç¡®å¤„ç†æŸä¸ªåŠŸèƒ½', () {
      // å‡†å¤‡
      // æ‰§è¡Œ
      // éªŒè¯
    });
  });
}
```

## âœ… æµ‹è¯•æ£€æŸ¥æ¸…å•

åœ¨æäº¤ä»£ç å‰ï¼Œè¯·ç¡®ä¿ï¼š
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ–°åŠŸèƒ½æœ‰å¯¹åº”çš„æµ‹è¯•
- [ ] æµ‹è¯•è¦†ç›–ç‡è¾¾åˆ°è¦æ±‚
- [ ] æµ‹è¯•å‘½åæ¸…æ™°æ˜ç¡®
- [ ] æµ‹è¯•é€»è¾‘ç®€å•æ˜“æ‡‚
